{"ast":null,"code":"var _jsxFileName = \"D:\\\\Apps Interactivas\\\\frontend\\\\src\\\\screens\\\\ShippingScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FormContainer from \"../components/FormContainer\";\nimport CheckoutSteps from \"../components/CheckoutSteps\";\nimport { saveShippingAddress } from \"../actions/cartActions\";\nimport Message from \"../components/Message\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ShippingScreen = ({\n  history\n}) => {\n  _s();\n\n  const cart = useSelector(state => state.cart);\n  const {\n    shippingAddress\n  } = cart;\n  const [address, setAddress] = useState(shippingAddress.address);\n  const [city, setCity] = useState(shippingAddress.city);\n  const [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\n  const [country, setCountry] = useState(shippingAddress.country);\n  const [message, setMessage] = useState(null);\n  const dispatch = useDispatch();\n\n  function isNumeric(value) {\n    return /^-?\\d+$/.test(value);\n  }\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (!/^[a-zA-Z\\s]+$/.test(city)) {\n      setMessage(\"La ciudad tiene que ser solo letras\");\n    } else if (!/^[a-zA-Z\\s]+$/.test(country)) {\n      setMessage(\"El país tiene que ser solo letras\");\n    } else if (isNumeric(postalCode) || postalCode.length !== 4) {\n      setMessage(\"El código postal tiene que ser solo letras\");\n    } else if (postalCode.length !== 4) {\n      setMessage(\"El código postal tiene que ser de un largo de 4 digitos\");\n    } else {\n      dispatch(saveShippingAddress({\n        address,\n        city,\n        postalCode,\n        country\n      }));\n      history.push(\"/payment\");\n    }\n  };\n\n  console.log(postalCode.length);\n  console.log(isNumeric(postalCode));\n  console.log(postalCode.length === 4);\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    children: [/*#__PURE__*/_jsxDEV(CheckoutSteps, {\n      step1: true,\n      step2: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Env\\xEDo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"address\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Direcci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Direcci\\xF3n completa\",\n          value: address,\n          required: true,\n          onChange: e => setAddress(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"city\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Ciudad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Ciudad\",\n          value: city,\n          required: true,\n          onChange: e => setCity(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"postalCode\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"C\\xF3digo Postal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"C\\xF3digo Postal\",\n          value: postalCode,\n          required: true,\n          onChange: e => setPostalCode(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"country\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Pa\\xEDs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Pa\\xEDs\",\n          value: country,\n          required: true,\n          onChange: e => setCountry(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Continuar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ShippingScreen, \"NfIkwFasZHhf1NPjeIBdJxVZnoY=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = ShippingScreen;\nexport default ShippingScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShippingScreen\");","map":{"version":3,"sources":["D:/Apps Interactivas/frontend/src/screens/ShippingScreen.js"],"names":["React","useState","Form","Button","useDispatch","useSelector","FormContainer","CheckoutSteps","saveShippingAddress","Message","ShippingScreen","history","cart","state","shippingAddress","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","message","setMessage","dispatch","isNumeric","value","test","submitHandler","e","preventDefault","length","push","console","log","target"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,iBAA7B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,SAASC,mBAAT,QAAoC,wBAApC;AACA,OAAOC,OAAP,MAAoB,uBAApB;;;AAEA,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AAAA;;AACtC,QAAMC,IAAI,GAAGP,WAAW,CAAEQ,KAAD,IAAWA,KAAK,CAACD,IAAlB,CAAxB;AACA,QAAM;AAAEE,IAAAA;AAAF,MAAsBF,IAA5B;AAEA,QAAM,CAACG,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAACa,eAAe,CAACC,OAAjB,CAAtC;AACA,QAAM,CAACE,IAAD,EAAOC,OAAP,IAAkBjB,QAAQ,CAACa,eAAe,CAACG,IAAjB,CAAhC;AACA,QAAM,CAACE,UAAD,EAAaC,aAAb,IAA8BnB,QAAQ,CAACa,eAAe,CAACK,UAAjB,CAA5C;AACA,QAAM,CAACE,OAAD,EAAUC,UAAV,IAAwBrB,QAAQ,CAACa,eAAe,CAACO,OAAjB,CAAtC;AACA,QAAM,CAACE,OAAD,EAAUC,UAAV,IAAwBvB,QAAQ,CAAC,IAAD,CAAtC;AAEA,QAAMwB,QAAQ,GAAGrB,WAAW,EAA5B;;AAEA,WAASsB,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,WAAO,UAAUC,IAAV,CAAeD,KAAf,CAAP;AACD;;AAED,QAAME,aAAa,GAAIC,CAAD,IAAO;AAC3BA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAI,CAAC,gBAAgBH,IAAhB,CAAqBX,IAArB,CAAL,EAAiC;AAC/BO,MAAAA,UAAU,CAAC,qCAAD,CAAV;AACD,KAFD,MAEO,IAAI,CAAC,gBAAgBI,IAAhB,CAAqBP,OAArB,CAAL,EAAoC;AACzCG,MAAAA,UAAU,CAAC,mCAAD,CAAV;AACD,KAFM,MAEA,IAAIE,SAAS,CAACP,UAAD,CAAT,IAAyBA,UAAU,CAACa,MAAX,KAAsB,CAAnD,EAAsD;AAC3DR,MAAAA,UAAU,CAAC,4CAAD,CAAV;AACD,KAFM,MAEA,IAAIL,UAAU,CAACa,MAAX,KAAsB,CAA1B,EAA6B;AAClCR,MAAAA,UAAU,CAAC,yDAAD,CAAV;AACD,KAFM,MAEA;AACLC,MAAAA,QAAQ,CAACjB,mBAAmB,CAAC;AAAEO,QAAAA,OAAF;AAAWE,QAAAA,IAAX;AAAiBE,QAAAA,UAAjB;AAA6BE,QAAAA;AAA7B,OAAD,CAApB,CAAR;AACAV,MAAAA,OAAO,CAACsB,IAAR,CAAa,UAAb;AACD;AACF,GAdD;;AAgBAC,EAAAA,OAAO,CAACC,GAAR,CAAYhB,UAAU,CAACa,MAAvB;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYT,SAAS,CAACP,UAAD,CAArB;AACAe,EAAAA,OAAO,CAACC,GAAR,CAAYhB,UAAU,CAACa,MAAX,KAAsB,CAAlC;AAEA,sBACE,QAAC,aAAD;AAAA,4BACE,QAAC,aAAD;AAAe,MAAA,KAAK,MAApB;AAAqB,MAAA,KAAK;AAA1B;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGGT,OAAO,iBAAI,QAAC,OAAD;AAAS,MAAA,OAAO,EAAC,QAAjB;AAAA,gBAA2BA;AAA3B;AAAA;AAAA;AAAA;AAAA,YAHd,eAIE,QAAC,IAAD;AAAM,MAAA,QAAQ,EAAEM,aAAhB;AAAA,8BACE,QAAC,IAAD,CAAM,KAAN;AAAY,QAAA,SAAS,EAAC,SAAtB;AAAA,gCACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,WAAW,EAAC,uBAFd;AAGE,UAAA,KAAK,EAAEd,OAHT;AAIE,UAAA,QAAQ,MAJV;AAKE,UAAA,QAAQ,EAAGe,CAAD,IAAOd,UAAU,CAACc,CAAC,CAACM,MAAF,CAAST,KAAV;AAL7B;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAWE,QAAC,IAAD,CAAM,KAAN;AAAY,QAAA,SAAS,EAAC,MAAtB;AAAA,gCACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,WAAW,EAAC,QAFd;AAGE,UAAA,KAAK,EAAEV,IAHT;AAIE,UAAA,QAAQ,MAJV;AAKE,UAAA,QAAQ,EAAGa,CAAD,IAAOZ,OAAO,CAACY,CAAC,CAACM,MAAF,CAAST,KAAV;AAL1B;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAXF,eAqBE,QAAC,IAAD,CAAM,KAAN;AAAY,QAAA,SAAS,EAAC,YAAtB;AAAA,gCACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,WAAW,EAAC,kBAFd;AAGE,UAAA,KAAK,EAAER,UAHT;AAIE,UAAA,QAAQ,MAJV;AAKE,UAAA,QAAQ,EAAGW,CAAD,IAAOV,aAAa,CAACU,CAAC,CAACM,MAAF,CAAST,KAAV;AALhC;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cArBF,eA+BE,QAAC,IAAD,CAAM,KAAN;AAAY,QAAA,SAAS,EAAC,SAAtB;AAAA,gCACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,WAAW,EAAC,SAFd;AAGE,UAAA,KAAK,EAAEN,OAHT;AAIE,UAAA,QAAQ,MAJV;AAKE,UAAA,QAAQ,EAAGS,CAAD,IAAOR,UAAU,CAACQ,CAAC,CAACM,MAAF,CAAST,KAAV;AAL7B;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cA/BF,eA0CE,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAC,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA1CF;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAqDD,CAzFD;;GAAMjB,c;UACSL,W,EASID,W;;;KAVbM,c;AA2FN,eAAeA,cAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport FormContainer from \"../components/FormContainer\";\r\nimport CheckoutSteps from \"../components/CheckoutSteps\";\r\nimport { saveShippingAddress } from \"../actions/cartActions\";\r\nimport Message from \"../components/Message\";\r\n\r\nconst ShippingScreen = ({ history }) => {\r\n  const cart = useSelector((state) => state.cart);\r\n  const { shippingAddress } = cart;\r\n\r\n  const [address, setAddress] = useState(shippingAddress.address);\r\n  const [city, setCity] = useState(shippingAddress.city);\r\n  const [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n  const [country, setCountry] = useState(shippingAddress.country);\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  function isNumeric(value) {\r\n    return /^-?\\d+$/.test(value);\r\n  }\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (!/^[a-zA-Z\\s]+$/.test(city)) {\r\n      setMessage(\"La ciudad tiene que ser solo letras\");\r\n    } else if (!/^[a-zA-Z\\s]+$/.test(country)) {\r\n      setMessage(\"El país tiene que ser solo letras\");\r\n    } else if (isNumeric(postalCode) || postalCode.length !== 4) {\r\n      setMessage(\"El código postal tiene que ser solo letras\");\r\n    } else if (postalCode.length !== 4) {\r\n      setMessage(\"El código postal tiene que ser de un largo de 4 digitos\");\r\n    } else {\r\n      dispatch(saveShippingAddress({ address, city, postalCode, country }));\r\n      history.push(\"/payment\");\r\n    }\r\n  };\r\n\r\n  console.log(postalCode.length);\r\n  console.log(isNumeric(postalCode));\r\n  console.log(postalCode.length === 4);\r\n\r\n  return (\r\n    <FormContainer>\r\n      <CheckoutSteps step1 step2 />\r\n      <h1>Envío</h1>\r\n      {message && <Message variant=\"danger\">{message}</Message>}\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId=\"address\">\r\n          <Form.Label>Dirección</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Dirección completa\"\r\n            value={address}\r\n            required\r\n            onChange={(e) => setAddress(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"city\">\r\n          <Form.Label>Ciudad</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Ciudad\"\r\n            value={city}\r\n            required\r\n            onChange={(e) => setCity(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"postalCode\">\r\n          <Form.Label>Código Postal</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Código Postal\"\r\n            value={postalCode}\r\n            required\r\n            onChange={(e) => setPostalCode(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"country\">\r\n          <Form.Label>País</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"País\"\r\n            value={country}\r\n            required\r\n            onChange={(e) => setCountry(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Button type=\"submit\" variant=\"primary\">\r\n          Continuar\r\n        </Button>\r\n      </Form>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default ShippingScreen;\r\n"]},"metadata":{},"sourceType":"module"}